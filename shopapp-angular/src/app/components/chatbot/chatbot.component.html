<!-- NÃºt trÃ²n báº­t/táº¯t -->
<div class="chat-toggle" (click)="toggleChat()">
  ðŸ’¬
</div>

<!-- Há»™p chat -->
<div class="chat-widget" [@chatAnimation]="isOpen ? 'visible' : 'hidden'">
  <div class="chat-header">
    ðŸ¤– Chatbot
    <button class="close-btn" (click)="toggleChat()">âœ–</button>
  </div>

  <div class="chat-box" #chatBox>
    @for (msg of messages; track msg) {
      <div class="message" [ngClass]="msg.sender"
           @messageAnim [@messageAnim]="{ value: '', params: { offset: msg.sender === 'user' ? '30px' : '-30px' } }">
        <div class="bubble">{{ msg.text }}</div>
      </div>
    }

    @if (isTyping) {
      <div class="message bot" @messageAnim>
        <div class="bubble typing">
          <span></span><span></span><span></span>
        </div>
      </div>
    }
  </div>

  <div class="chat-input">
    <input [(ngModel)]="userInput" placeholder="Nháº­p tin nháº¯n..." (keyup.enter)="sendMessage()">
    <button (click)="sendMessage()">âž¤</button>
  </div>
</div>